unit uConnection;

interface

uses
  System.SysUtils, System.Classes, Data.DB,
  FireDAC.Comp.Client, FireDAC.Stan.Def, FireDAC.Stan.Intf,
  FireDAC.Stan.Option, FireDAC.Stan.Pool, FireDAC.Stan.Async,
  FireDAC.Phys.SQLite, FireDAC.Phys.SQLiteDef,
  FireDAC.DApt, FireDAC.UI.Intf, FireDAC.VCLUI.Wait;

type
  TConnection = class
    private
      Connection : TFDConnection;
      Query      : TFDQuery;
    public
      procedure AfterConstruction; override;
      procedure BeforeDestruction; override;
      procedure ConfigConnection;

      function GetConnection : TFDConnection;
      function GetQuery      : TFDQuery;
  end;

implementation

{ TConnection }

procedure TConnection.AfterConstruction;
begin
    inherited;
    if not Assigned(Connection) then
    begin
        Connection := TFDConnection.Create(nil);

        ConfigConnection;
    end;

    if not Assigned(Query) then
      Query := TFDQuery.Create(nil);

end;

procedure TConnection.BeforeDestruction;
begin
  inherited;

end;

procedure TConnection.ConfigConnection;
begin

end;

function TConnection.GetConnection: TFDConnection;
begin

end;

function TConnection.GetQuery: TFDQuery;
begin

end;

end.
