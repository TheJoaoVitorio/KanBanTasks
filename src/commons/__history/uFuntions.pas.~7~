unit uFuntions;

interface

uses
  FMX.Ani,
  System.SysUtils, System.Types, System.UITypes, System.Classes, System.Variants,
  FMX.Types, FMX.Controls, FMX.Forms, FMX.Graphics, FMX.Dialogs, FMX.Objects,
  FMX.StdCtrls, FMX.Controls.Presentation, FMX.Layouts, FMX.ListBox;

type
  TFuntions = class
    private
    public
      class function HexToAlphaColor(const AHexColor : String) : TAlphaColor;
      class procedure AlterarCorLabelDoFrameNoListBox(ListBox: TListBox;NovaCor: TAlphaColor);

  end;

implementation

{ TFuntions }

class function TFuntions.HexToAlphaColor(const AHexColor: String): TAlphaColor;
begin
    if AHexColor.StartsWith('#') then
      Result := TAlphaColor(StrToInt('$' + Copy(AHexColor, 2, Length(AHexColor) - 1)))
    else
      Result := TAlphaColor(StrToInt('$' + AHexColor));
end;


class procedure TFunctions.AlterarCorLabelDoFrameNoListBox(ListBox: TListBox; NovaCor: TAlphaColor);
var
  i, j, k: Integer;
  ListBoxItem: TListBoxItem;
  Frame: TFrame;
  LabelControl: TLabel;
begin
  // Percorrer todos os itens do ListBox
  for i := 0 to ListBox.Items.Count - 1 do
  begin
    if ListBox.ListItems[i] is TListBoxItem then
    begin
      ListBoxItem := TListBoxItem(ListBox.ListItems[i]);

      // Verificar os controles dentro do ListBoxItem
      for j := 0 to ListBoxItem.ControlsCount - 1 do
      begin
        // Verificar se o controle é um Frame
        if ListBoxItem.Controls[j] is TFrame then
        begin
          Frame := TFrame(ListBoxItem.Controls[j]);

          // Verificar os controles dentro do Frame
          for k := 0 to Frame.ControlsCount - 1 do
          begin
            if Frame.Controls[k] is TLabel then
            begin
              // Alterar a cor do Label
              LabelControl := TLabel(Frame.Controls[k]);
              LabelControl.TextSettings.FontColor := NovaCor;
            end;
          end;
        end;
      end;
    end;
  end;
end;



end.
